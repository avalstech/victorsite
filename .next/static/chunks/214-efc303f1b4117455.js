(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[214],{5214:function(e,t,n){Promise.resolve().then(n.bind(n,6458))},9205:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var o=n(2265);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>!!e&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,o.forwardRef)((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:c=2,absoluteStrokeWidth:s,className:u="",children:l,iconNode:d,...g}=e;return(0,o.createElement)("svg",{ref:t,...a,width:r,height:r,stroke:n,strokeWidth:s?24*Number(c)/Number(r):c,className:i("lucide",u),...g},[...d.map(e=>{let[t,n]=e;return(0,o.createElement)(t,n)}),...Array.isArray(l)?l:[l]])}),s=(e,t)=>{let n=(0,o.forwardRef)((n,a)=>{let{className:s,...u}=n;return(0,o.createElement)(c,{ref:a,iconNode:t,className:i("lucide-".concat(r(e)),s),...u})});return n.displayName="".concat(e),n}},6458:function(e,t,n){"use strict";n.d(t,{LikeBookmark:function(){return g}});var o=n(7437),r=n(2265),i=n(9205);let a=(0,i.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),c=(0,i.Z)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);var s=n(2381),u=n(3884),l=n(4810),d=n(4438);function g(e){let{contentType:t,contentId:n}=e,[i,g]=(0,r.useState)(!0),[f,h]=(0,r.useState)(!1),[m,p]=(0,r.useState)(!1),v=(0,r.useCallback)(async()=>{g(!0);try{var e,o;let r=await (0,l.t)(),i="".concat(r.userId,"#").concat(t,"#").concat(n),a=await u.W.models.Interaction.get({id:i});h(!!(null===(e=a.data)||void 0===e?void 0:e.liked)),p(!!(null===(o=a.data)||void 0===o?void 0:o.bookmarked))}catch(e){h(!1),p(!1)}finally{g(!1)}},[t,n]);(0,r.useEffect)(()=>{v()},[v]);let y=async e=>{try{let o=await (0,l.t)(),r="".concat(o.userId,"#").concat(t,"#").concat(n),i="liked"===e?!f:!m;"liked"===e?h(i):p(i),await u.W.models.Interaction.upsert({id:r,userId:o.userId,contentType:t,contentId:n,liked:"liked"===e?i:f,bookmarked:"bookmarked"===e?i:m}),d.Am.success("liked"===e?i?"Liked":"Unliked":i?"Bookmarked":"Removed bookmark")}catch(e){d.Am.error("Sign in required"),await v()}};return(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsxs)(s.z,{variant:"outline",disabled:i,onClick:()=>y("liked"),children:[(0,o.jsx)(a,{className:"mr-2 h-4 w-4 ".concat(f?"fill-brand-600 text-brand-600":"")})," Like"]}),(0,o.jsxs)(s.z,{variant:"outline",disabled:i,onClick:()=>y("bookmarked"),children:[(0,o.jsx)(c,{className:"mr-2 h-4 w-4 ".concat(m?"fill-slate-900 text-slate-900":"")})," Save"]})]})}},2381:function(e,t,n){"use strict";n.d(t,{z:function(){return a}});var o=n(7437),r=n(2265),i=n(3448);let a=r.forwardRef((e,t)=>{let{className:n,variant:r="default",size:a="md",...c}=e;return(0,o.jsx)("button",{ref:t,className:(0,i.cn)("inline-flex items-center justify-center rounded-xl font-medium transition focus:outline-none focus:ring-2 focus:ring-brand-300 disabled:opacity-50 disabled:pointer-events-none","default"===r?"bg-brand-600 text-white hover:bg-brand-700":"secondary"===r?"bg-slate-900 text-white hover:bg-slate-800":"outline"===r?"border border-slate-200 hover:bg-slate-50":"hover:bg-slate-50","sm"===a?"h-9 px-3 text-sm":"lg"===a?"h-12 px-5 text-base":"h-10 px-4 text-sm",n),...c})});a.displayName="Button"},3884:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var o=n(8571);let r=null,i=(()=>{if(!r)try{r=(0,o.d)()}catch(e){console.error("Failed to create data client:",e),r=new Proxy({},{get:()=>({list:()=>Promise.resolve({data:[]}),get:()=>Promise.resolve({data:null}),create:()=>Promise.reject(Error("Data client not available")),update:()=>Promise.reject(Error("Data client not available")),delete:()=>Promise.reject(Error("Data client not available"))})})}return r})()},3448:function(e,t,n){"use strict";n.d(t,{cn:function(){return i}});var o=n(1994),r=n(3335);function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.m6)((0,o.W)(t))}},7808:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});var o=n(5638);let r=(e,t=o._)=>(n,o,r)=>{let{message:i,recoverySuggestion:a}=e[o];if(!n)throw new t({name:o,message:r?`${i} ${r}`:i,recoverySuggestion:a})}},4722:function(e,t,n){"use strict";n.d(t,{YE:function(){return g},V0:function(){return d},FG:function(){return l},xp:function(){return f}});var o,r,i=n(2237);let a={convert(e,t){let n=e;return t?.urlSafe&&(n=n.replace(/-/g,"+").replace(/_/g,"/")),(0,i.tl)()(n)}};var c=n(7808);(o=r||(r={})).AuthTokenConfigException="AuthTokenConfigException",o.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",o.AuthUserPoolException="AuthUserPoolException",o.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",o.OAuthNotConfigureException="OAuthNotConfigureException";let s={[r.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[r.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[r.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[r.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[r.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}},u=(0,c.$)(s);function l(e){u(!!e&&!!e.userPoolId&&!!e.userPoolClientId,r.AuthUserPoolException)}function d(e){u(!!e?.loginWith?.oauth?.domain&&!!e?.loginWith?.oauth?.redirectSignOut&&!!e?.loginWith?.oauth?.redirectSignIn&&!!e?.loginWith?.oauth?.responseType,r.OAuthNotConfigureException)}function g(e){u(!!e?.identityPoolId,r.InvalidIdentityPoolIdException)}function f(e){let t=e.split(".");if(3!==t.length)throw Error("Invalid token");try{let n=t[1].replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(a.convert(n).split("").map(e=>`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`).join("")),r=JSON.parse(o);return{toString:()=>e,payload:r}}catch(e){throw Error("Invalid token payload")}}},5353:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});var o=n(5638);class r extends o._{constructor(e){super(e),this.constructor=r,Object.setPrototypeOf(this,r.prototype)}}},1632:function(e,t,n){"use strict";n.d(t,{EU:function(){return i},Jg:function(){return r},VL:function(){return s},hj:function(){return l},sX:function(){return d},vC:function(){return a},wW:function(){return u},x9:function(){return c}});var o=n(5353);let r="UserUnAuthenticatedException",i="UserAlreadyAuthenticatedException",a=new o.l({name:"InvalidRedirectException",message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."});new o.l({name:"InvalidAppSchemeException",message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."});let c=new o.l({name:"InvalidPreferredRedirectUrlException",message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."}),s=new o.l({name:"InvalidOriginException",message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."}),u="OAuthSignOutException",l="TokenRefreshException",d="UnexpectedSignInInterruptionException"},4810:function(e,t,n){"use strict";n.d(t,{t:function(){return c}});var o=n(9676),r=n(4722),i=n(3705);let a=async e=>{let t=e.getConfig().Auth?.Cognito;(0,r.FG)(t);let n=await e.Auth.getTokens({forceRefresh:!1});(0,i.CA)(n);let{"cognito:username":o,sub:a}=n.idToken?.payload??{},c={username:o,userId:a},s=n?.signInDetails;return s&&(c.signInDetails=s),c},c=async()=>a(o.d)},3705:function(e,t,n){"use strict";n.d(t,{Bx:function(){return l},CA:function(){return i},Cg:function(){return a},XD:function(){return u}});var o=n(5353),r=n(1632);function i(e){if(!e||!e.accessToken)throw new o.l({name:r.Jg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}function a(e){if(!e||!e.idToken)throw new o.l({name:r.Jg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}let c=new o.l({name:r.hj,message:`Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. 
	Please change your oauth configuration to use 'code grant' flow.`,recoverySuggestion:`Please logout and change your Amplify configuration to use "code grant" flow. 
	E.g { responseType: 'code' }`}),s=new o.l({name:r.Jg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function u(e){if(d(e)&&!e?.refreshToken)throw c;if(!(d(e)&&e?.refreshToken))throw s}let l={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function d(e){return e?.accessToken||e?.idToken}}}]);